{% extends 'base.html' %}
{% load static %}

{% block 'main' %}
<div class="dept-container">
    <div class="dept-header">
        <h2>Employee Dashboard</h2>
        <button class="dept-add-btn" onclick="showEmpForm()">Add New Employee</button>
    </div>

    {% if successmsg %}
        <div id="success" class="alert alert-success" role="alert">
            {{ successmsg }}
        </div>
    {% elif errormsg %}
        <div id="error" class="alert alert-danger" role="alert" data-redirect-url="/">
            {{ errormsg }}
        </div>
    {% endif %}

    <table class="dept-table">
        <thead>
            <tr>
                <th>Sr No</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Mobile</th>
                <th>Department</th>
                <th>Role</th>
                <th>Username</th>
                <th>Password</th>
                <th>Edit</th>
                <th>Delete</th>

            </tr>
        </thead>
        <tbody>
            {% for i in data %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>




<!-- Add Department Form (Popup Modal) -->
<div class="dept-form-popup" id="empForm">
    <div class="emp-form-container">
        <h3 class="titleEmpAdd">Add New Employee</h3>
        
        <form method="POST" action="/add_emp" class="empform-container">
            {% csrf_token %}
            <div class="empform-row">
                <label class="empform-label">First Name:</label>
                <input type="text" name="fname" class="empform-input" required>
        
                <label class="empform-label mx-3" > Last Name:</label>
                <input type="text" name="lname" class="empform-input" required>
            </div>
            
            <div class="empform-row">
                <label class="empform-label">Email:</label>
                <input type="text" name="email" class="empform-input" required>
        
                <label class="empform-label mx-3"> Mobile No:</label>
                <input type="text" name="mob" class="empform-input" required>
            </div>
            
            <div class="empform-row">
                <label class="empform-label">Department:</label>
                <input type="text" name="dept" class="empform-input" required>
        
                <label class="empform-label mx-3"> Role:</label>
                <input type="text" name="role" class="empform-input" required>
            </div>
            
            <div class="empform-row">
                <label class="empform-label">Username:</label>
                <input type="text" name="username" class="empform-input" required>
        
                <label class="empform-label mx-3"> Password:</label>
                <input type="password" name="pass" class="empform-input" required>
            </div>
            
            <div class="empform-btn-group">
                <button type="submit" class="empform-submit">Submit</button>
                <button type="button" class="empform-cancel" onclick="hideempForm()">Cancel</button>
            </div>
        </form>
    </div>
</div>
























{% endblock 'main' %}